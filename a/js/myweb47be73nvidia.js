eval(atob('ZnVuY3Rpb24gdG9nZ2xlRnVsbFNjcmVlbihlKSB7CiAgICB2YXIgbiA9IGRvY3VtZW50LmJvZHk7CiAgICBlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgKG4gPSBlKTsKICAgIHZhciB0ID0gZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuIHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW4gfHwgITE7CiAgICBuLnJlcXVlc3RGdWxsU2NyZWVuID0gbi5yZXF1ZXN0RnVsbFNjcmVlbiB8fCBuLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIHx8IG4ubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHwgZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICExCiAgICB9CiAgICAgICAgLAogICAgICAgIGRvY3VtZW50LmNhbmNlbEZ1bGxTY3JlZW4gPSBkb2N1bWVudC5jYW5jZWxGdWxsU2NyZWVuIHx8IGRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4gfHwgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbiB8fCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuICExCiAgICAgICAgfQogICAgICAgICwKICAgICAgICB0ID8gZG9jdW1lbnQuY2FuY2VsRnVsbFNjcmVlbigpIDogbi5yZXF1ZXN0RnVsbFNjcmVlbigpCn0KZnVuY3Rpb24gYWRkRXZlbnQoZSwgbiwgdCkgewogICAgZS5hZGRFdmVudExpc3RlbmVyID8gZS5hZGRFdmVudExpc3RlbmVyKG4sIHQsICExKSA6IGUuYXR0YWNoRXZlbnQgJiYgZS5hdHRhY2hFdmVudCgib24iICsgbiwgdCkKfQokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsKICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKTsKICAgIGUuc2V0QXR0cmlidXRlKCJzcmMiLCAiYWkyLm1wMyIpLAogICAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcigiZW5kZWQiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5wbGF5KCkKICAgICAgICB9LCAhMSksCiAgICAgICAgJCgiLm1hcCIpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBlLnBsYXkoKQogICAgICAgIH0pLAogICAgICAgICQoIi5ibGFjayIpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBlLnBsYXkoKQogICAgICAgIH0pLAogICAgICAgICQoIiNmb290ZXIiKS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgZS5wbGF5KCkKICAgICAgICB9KSwKICAgICAgICAkKCIjcG9wdHh0IikuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGUucGxheSgpCiAgICAgICAgfSkKfSksCiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsKICAgICAgICAkKCJib2R5IikuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICQoIiNmb290ZXIiKS5mYWRlSW4oIiIpLmNzcyh7CiAgICAgICAgICAgICAgICBib3R0b206IC0yMCwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAiZml4ZWQiCiAgICAgICAgICAgIH0pLmFuaW1hdGUoewogICAgICAgICAgICAgICAgYm90dG9tOiAtMjAKICAgICAgICAgICAgfSwgMjAwLCBmdW5jdGlvbigpIHt9KQogICAgICAgIH0pCiAgICB9KSwKICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgewogICAgICAgICQoIi5hcm93LWRpdiIpLmRlbGF5KDFlMykuZmFkZUluKDUwMCkKICAgIH0pLAogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7CiAgICAgICAgJCgiI3BvcHR4dCIpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkKCIjcG9wdHh0IikuaGlkZSgiZmFzdCIpCiAgICAgICAgfSkKICAgIH0pLAogICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7CiAgICAgICAgJCgiLmFsZXJ0X3BvcHVwIikuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICQoIi5hbGVydF9wb3B1cCIpLmhpZGUoImZhc3QiKQogICAgICAgIH0pCiAgICB9KSwKICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgewogICAgICAgICQoIiNmb290ZXIiKS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAgICAgJCgiI3BvcHR4dCIpLmhpZGUoImZhc3QiKQogICAgICAgIH0pCiAgICB9KSwKICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgewogICAgICAgICQoIi5ibGFjayIpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkKCIuZGVsYXllZFBvcHVwV2luZG93IikuaGlkZSgiZmFzdCIpCiAgICAgICAgfSkKICAgIH0pLAogICAgYWRkRXZlbnQoZG9jdW1lbnQsICJtb3VzZW91dCIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICBudWxsID09IGUudG9FbGVtZW50ICYmIG51bGwgPT0gZS5yZWxhdGVkVGFyZ2V0ICYmICQoIi5saWdodGJveCIpLnNsaWRlRG93bigpCiAgICB9KSwKICAgICQoImEuY2xvc2UiKS5jbGljayhmdW5jdGlvbigpIHsKICAgICAgICAkKCIubGlnaHRib3giKS5zbGlkZVVwKCkKICAgIH0pLAogICAgJCgiYm9keSIpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICQoIi5saWdodGJveCIpLnNsaWRlVXAoKQogICAgfSksCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIiwgZnVuY3Rpb24oZSkgewogICAgICAgIHZhciBuID0gIkl0IGxvb2tzIGxpa2UgeW91IGhhdmUgYmVlbiBlZGl0aW5nIHNvbWV0aGluZy4gSWYgeW91IGxlYXZlIGJlZm9yZSBzYXZpbmcsIHlvdXIgY2hhbmdlcyB3aWxsIGJlIGxvc3QuIjsKICAgICAgICByZXR1cm4gKGUgfHwgd2luZG93LmV2ZW50KS5yZXR1cm5WYWx1ZSA9IG4sCiAgICAgICAgICAgIG4KICAgIH0pLAogICAgYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgICAoZS5yZXF1ZXN0RnVsbFNjcmVlbiB8fCBlLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIHx8IGUubW96UmVxdWVzdEZ1bGxTY3JlZW4pLmNhbGwoZSkKICAgIH0pOw=='))